diff --git a/README.md b/README.md
index 66cda12..de41a6c 100644
--- a/README.md
+++ b/README.md
@@ -14,7 +14,7 @@ To install EMS on a CNRM computer, with access to the CNRM Lustre system:
 
 2. Modify `install.sh`:
 
-   * Set `EMS_VERSION`, e.g., `EMS_VERSION=2.3.mac`
+   * Set `EMS_VERSION`, e.g., `EMS_VERSION=2.3`
    * Set where you want to install EMS: default is `REP_EMS=$HOME/Tools/EMS/V${EMS_VERSION}`
    * Set where you want to run MUSC: default is `REP_MUSC=$HOME/MUSC/V${EMS_VERSION}`
 
diff --git a/aux/ASCII2FA/bin/ascii2fa b/aux/ASCII2FA/bin/ascii2fa
index f8fd187..11d76b3 100755
Binary files a/aux/ASCII2FA/bin/ascii2fa and b/aux/ASCII2FA/bin/ascii2fa differ
diff --git a/aux/ASCII2FA/src/Makefile b/aux/ASCII2FA/src/Makefile
index d469330..4a7e19c 100755
--- a/aux/ASCII2FA/src/Makefile
+++ b/aux/ASCII2FA/src/Makefile
@@ -1,21 +1,18 @@
 # acadfa makefile
 
 FC	 =	gfortran
-FFLAGS	 =      -ff2c -fconvert=big-endian -frecord-marker=4 $(M32) -ffixed-form -fdefault-real-8 -DADDRESS64 -DLITTLE_ENDIAN -DHIGHRES
-F90FLAGS =      -fconvert=swap -fno-second-underscore -fbacktrace -fopenmp -fno-sign-zero -fpic -ffree-line-length-none -m64 -ffree-form  -DLINUX -DLITTLE_ENDIAN -DLITTLE -DDARWIN -DADDRESS64 -fdefault-real-8 -fdefault-double-8 -g -O2
+F90FLAGS =      -fopenmp -fconvert=swap -fno-second-underscore -fbacktrace -m64 -fopenmp -gdwarf-3 -ffree-line-length-none -fno-sign-zero -fpic -fno-range-check -ffree-form  -DLINUX -DLITTLE_ENDIAN -DLITTLE -g -O2 -ftree-vectorize  -DADDRESS64
 EXEC	 =	acadfa_exe
 
 OBJS	 =	acadfa1D_main.o \
 		acadfa_sueframe.o \
-		real2spec.o
+		real2spec.o \
 
-XRDLOC	 =	/Users/romain/rootpack/arp603_export.01.MPIGNU1120.x/lib/libxrd.local.a 
-#XRDMAIN	 =	/Users/romain/rootpack/arp603_export.01.MPIGNU1120.x/lib/libxrd.local.a 
-XLA	 =	/Users/romain/rootpack/arp603_export.01.MPIGNU1120.x/lib/libxla.local.a 
-GRIBEX   =      /Users/romain/libraries/auxlibs.3.5/lib/libgribex.a 
-MPIDUMMY =      /Users/romain/libraries/auxlibs.3.5/lib/libmpidummy.a
-#LIBS	 =	$(XRDLOC) $(XRDMAIN) $(XLA) $(GRIBEX) $(MPIDUMMY) 
-LIBS	 =	$(XRDLOC) $(XLA) $(GRIBEX) $(MPIDUMMY) 
+XRD	 =	/cnrm/amacs/USERS/roehrig/share/EMS/pack/arp603_export.01.GFORTRAN610.cx/lib/libxrd.local.a
+XLA	 =      /cnrm/amacs/USERS/roehrig/share/EMS/pack/arp603_export.01.GFORTRAN610.cx/lib/libxla.local.a
+GRIBEX   =      /home/common/sync/gfortran/auxlibs-gcc-9.2.0/lib/libgribex.a 
+MPIDUMMY =      /home/common/sync/gfortran/auxlibs-gcc-9.2.0/lib/libmpidummy.a
+LIBS	 =	$(XRD) $(XLA) $(GRIBEX) $(MPIDUMMY)
 
 %.o:%.F90
 	$(FC) $(F90FLAGS) -c $<
diff --git a/aux/lfa4py/lfa4py.so b/aux/lfa4py/lfa4py.so
index f463325..0b67b8a 100755
Binary files a/aux/lfa4py/lfa4py.so and b/aux/lfa4py/lfa4py.so differ
diff --git a/aux/lfatools/bin/cllangu b/aux/lfatools/bin/cllangu
index 47071a0..ddf95e1 100755
Binary files a/aux/lfatools/bin/cllangu and b/aux/lfatools/bin/cllangu differ
diff --git a/aux/lfatools/bin/lfa2lfa b/aux/lfatools/bin/lfa2lfa
index cccb5a3..efbfbf0 100755
Binary files a/aux/lfatools/bin/lfa2lfa and b/aux/lfatools/bin/lfa2lfa differ
diff --git a/aux/lfatools/bin/lfa2lfp b/aux/lfatools/bin/lfa2lfp
index 442f5f5..038d8a4 100755
Binary files a/aux/lfatools/bin/lfa2lfp and b/aux/lfatools/bin/lfa2lfp differ
diff --git a/aux/lfatools/bin/lfa_autodocumentation b/aux/lfatools/bin/lfa_autodocumentation
index f7c6973..4e1454b 100755
Binary files a/aux/lfatools/bin/lfa_autodocumentation and b/aux/lfatools/bin/lfa_autodocumentation differ
diff --git a/aux/lfatools/bin/lfa_demo b/aux/lfatools/bin/lfa_demo
index 21df84c..9106519 100755
Binary files a/aux/lfatools/bin/lfa_demo and b/aux/lfatools/bin/lfa_demo differ
diff --git a/aux/lfatools/bin/lfac b/aux/lfatools/bin/lfac
index 5b19780..a82087f 100755
Binary files a/aux/lfatools/bin/lfac and b/aux/lfatools/bin/lfac differ
diff --git a/aux/lfatools/bin/lfacre b/aux/lfatools/bin/lfacre
index 6651802..f6c902d 100755
Binary files a/aux/lfatools/bin/lfacre and b/aux/lfatools/bin/lfacre differ
diff --git a/aux/lfatools/bin/lfadiff b/aux/lfatools/bin/lfadiff
index dbf5c53..0dc09e3 100755
Binary files a/aux/lfatools/bin/lfadiff and b/aux/lfatools/bin/lfadiff differ
diff --git a/aux/lfatools/bin/lfadiffart b/aux/lfatools/bin/lfadiffart
index f008d0c..42d49b7 100755
Binary files a/aux/lfatools/bin/lfadiffart and b/aux/lfatools/bin/lfadiffart differ
diff --git a/aux/lfatools/bin/lfadiffrel b/aux/lfatools/bin/lfadiffrel
index 09ce95c..c7f2096 100755
Binary files a/aux/lfatools/bin/lfadiffrel and b/aux/lfatools/bin/lfadiffrel differ
diff --git a/aux/lfatools/bin/lfafreq b/aux/lfatools/bin/lfafreq
index 0edbaf1..d303cbc 100755
Binary files a/aux/lfatools/bin/lfafreq and b/aux/lfatools/bin/lfafreq differ
diff --git a/aux/lfatools/bin/lfalaf b/aux/lfatools/bin/lfalaf
index a60ed27..a79fdc6 100755
Binary files a/aux/lfatools/bin/lfalaf and b/aux/lfatools/bin/lfalaf differ
diff --git a/aux/lfatools/bin/lfaminm b/aux/lfatools/bin/lfaminm
index e3c6782..2fdb724 100755
Binary files a/aux/lfatools/bin/lfaminm and b/aux/lfatools/bin/lfaminm differ
diff --git a/aux/lfatools/bin/lfamoy b/aux/lfatools/bin/lfamoy
index eb61c24..4fad90f 100755
Binary files a/aux/lfatools/bin/lfamoy and b/aux/lfatools/bin/lfamoy differ
diff --git a/aux/lfatools/bin/lfareu b/aux/lfatools/bin/lfareu
index cf8d0ce..9b659cb 100755
Binary files a/aux/lfatools/bin/lfareu and b/aux/lfatools/bin/lfareu differ
diff --git a/aux/lfatools/bin/lfatest b/aux/lfatools/bin/lfatest
index 5dd165d..f320148 100755
Binary files a/aux/lfatools/bin/lfatest and b/aux/lfatools/bin/lfatest differ
diff --git a/aux/lfatools/bin/lfp2lfa b/aux/lfatools/bin/lfp2lfa
index 040bc0f..adbcc6c 100755
Binary files a/aux/lfatools/bin/lfp2lfa and b/aux/lfatools/bin/lfp2lfa differ
diff --git a/examples/config/config_46t1_AROME_OPER.py b/examples/config/config_46t1_AROME_OPER.py
index 4cc2e7c..7ea774b 100644
--- a/examples/config/config_46t1_AROME_OPER.py
+++ b/examples/config/config_46t1_AROME_OPER.py
@@ -10,7 +10,7 @@ GROUP = '46t1'
 # EXPID will be taken from this file name following the convention config_EXPID.py
 
 # Binaries
-bindir = '/Users/romain/rootpack/46_t1.01.MPIGNU1120.x/bin'
+bindir = '/cnrm/amacs/USERS/roehrig/share/EMS/pack/46_t1.01.GFORTRAN610ECCOD.xfftw.musc/bin'
 MASTER = os.path.join(bindir, 'MASTERODB')
 #PGD
 #PREP
diff --git a/examples/config/config_46t1_AROME_SFX.py b/examples/config/config_46t1_AROME_SFX.py
index ae7b723..1dace50 100644
--- a/examples/config/config_46t1_AROME_SFX.py
+++ b/examples/config/config_46t1_AROME_SFX.py
@@ -10,7 +10,7 @@ GROUP = '46t1'
 # EXPID will be taken from this file name following the convention config_EXPID.py
 
 # Binaries
-bindir = '/Users/romainroehrig/rootpack/46_t1.01.MPIGNU640.x/bin'
+bindir = '/cnrm/amacs/USERS/roehrig/share/EMS/pack/46_t1.01.GFORTRAN610ECCOD.xfftw.musc/bin'
 MASTER = os.path.join(bindir, 'MASTERODB')
 PGD = os.path.join(bindir, 'PGD')
 PREP = os.path.join(bindir, 'PREP')
diff --git a/examples/config/config_arp631_CMIP6.py b/examples/config/config_arp631_CMIP6.py
index 1cb22d6..0be0e55 100644
--- a/examples/config/config_arp631_CMIP6.py
+++ b/examples/config/config_arp631_CMIP6.py
@@ -10,11 +10,11 @@ GROUP = 'V631'
 # EXPID will be taken from this file name following the convention config_EXPID.py
 
 # Binaries
-bindir = '/Users/romain/rootpack/arp603_export.01.MPIGNU1120.x/bin'
-MASTER = os.path.join(bindir, 'MASTERODB')
+bindir = '/cnrm/amacs/USERS/roehrig/share/EMS/pack/arp603_export.01.GFORTRAN610.cx/bin'
+MASTER = os.path.join(bindir, 'MASTER')
 PGD = os.path.join(bindir, 'PGD')
 PREP = os.path.join(bindir, 'PREP')
-#ASCII2FA
+ASCII2FA = os.path.join(bindir, 'ASCII2FA')
 
 # Namelists
 ATMNAM = os.path.join(REP_MUSC, 'namelist/ARPCLIMAT/nam.atm.tl127l91r.CMIP6.v631')
@@ -25,7 +25,7 @@ vert_grid = os.path.join(REP_MUSC, 'grid/L91.dta')
 timestep = 900
 
 # Postprocessing
-dirpost = os.path.join(REP_MUSC,'post.dephycf')
+dirpost = os.path.join(REP_MUSC,'post')
 variablesDict = 'variables.py'
 defaultConfigPost = 'config_default.py'
 caseDependent = True
diff --git a/examples/config/config_arp631d_CMIP6.300s.py b/examples/config/config_arp631d_CMIP6.300s.py
deleted file mode 100644
index 7b0d33f..0000000
--- a/examples/config/config_arp631d_CMIP6.300s.py
+++ /dev/null
@@ -1,46 +0,0 @@
-#!/usr/bin/env python
-# -*- coding:UTF-8 -*-
-
-import os
-REP_MUSC = '__REP_MUSC__'
-
-############# Begin editing
-
-GROUP = 'V631'
-# EXPID will be taken from this file name following the convention config_EXPID.py
-
-# Binaries
-bindir = '/Users/romain/pack/arp603_export.01.MPIGNU1120.x.diag/bin'
-MASTER = os.path.join(bindir, 'MASTERODB')
-PGD = os.path.join(bindir, 'PGD')
-PREP = os.path.join(bindir, 'PREP')
-#ASCII2FA
-
-# Namelists
-ATMNAM = os.path.join(REP_MUSC, 'namelist/ARPCLIMAT/nam.atm.tl127l91r.CMIP6.v631')
-SFXNAM = os.path.join(REP_MUSC, 'namelist/SURFEX/nam.sfx.tl127.CMIP6.v631')
-
-# Model configuration
-vert_grid = os.path.join(REP_MUSC, 'grid/L91.dta')
-timestep = 300
-
-# Postprocessing
-dirpost = os.path.join(REP_MUSC,'post.dephycf')
-variablesDict = 'variables.py'
-defaultConfigPost = 'config_default.py'
-caseDependent = True
-
-# EMS configuration
-model = 'ARPCLIMAT'
-#lascii_forc
-lsurfex = True
-#sfxfmt
-loverwrite = True
-lupdate_ATM = True
-lupdate_SFX = True
-lupdate_RUN = True
-
-# ecoclimap data
-#ecoclimap
-
-############# End editing
diff --git a/examples/config/config_arp631d_CMIP6.py b/examples/config/config_arp631d_CMIP6.py
deleted file mode 100644
index cc8dbc8..0000000
--- a/examples/config/config_arp631d_CMIP6.py
+++ /dev/null
@@ -1,46 +0,0 @@
-#!/usr/bin/env python
-# -*- coding:UTF-8 -*-
-
-import os
-REP_MUSC = '__REP_MUSC__'
-
-############# Begin editing
-
-GROUP = 'V631'
-# EXPID will be taken from this file name following the convention config_EXPID.py
-
-# Binaries
-bindir = '/Users/romain/pack/arp603_export.01.MPIGNU1120.x.diag/bin'
-MASTER = os.path.join(bindir, 'MASTERODB')
-PGD = os.path.join(bindir, 'PGD')
-PREP = os.path.join(bindir, 'PREP')
-#ASCII2FA
-
-# Namelists
-ATMNAM = os.path.join(REP_MUSC, 'namelist/ARPCLIMAT/nam.atm.tl127l91r.CMIP6.v631')
-SFXNAM = os.path.join(REP_MUSC, 'namelist/SURFEX/nam.sfx.tl127.CMIP6.v631')
-
-# Model configuration
-vert_grid = os.path.join(REP_MUSC, 'grid/L91.dta')
-timestep = 900
-
-# Postprocessing
-dirpost = os.path.join(REP_MUSC,'post.dephycf')
-variablesDict = 'variables.py'
-defaultConfigPost = 'config_default.py'
-caseDependent = True
-
-# EMS configuration
-model = 'ARPCLIMAT'
-#lascii_forc
-lsurfex = True
-#sfxfmt
-loverwrite = True
-lupdate_ATM = True
-lupdate_SFX = True
-lupdate_RUN = True
-
-# ecoclimap data
-#ecoclimap
-
-############# End editing
diff --git a/examples/post.dephycf/config_AYOTTE.py b/examples/post.dephycf/config_AYOTTE.py
index 506b696..a08254f 100644
--- a/examples/post.dephycf/config_AYOTTE.py
+++ b/examples/post.dephycf/config_AYOTTE.py
@@ -7,7 +7,8 @@
 #saveall = True
 saveall = False
 
-var2save = ['pfull','zfull','theta','ta','qv','ua','va','wap','ql','qi','qr','qsn','cl','clt','prw','pr','hfls','hfss','ts','hur','Q1','Q2','qlc','qic','qrc','qsnc','tke','wa_up','mf_up','alpha_up','ustar','z0','dTv_up','b_up','ent_up','det_up']
+var2save = ['pf','zf','theta','u','v']
+var2save = ['pfull','zfull','theta','ta','qv','ua','va','wap','ql','qi','qr','qsn','rcl','clt','prw','pr','hfls','hfss','ts','hur','Q1','Q2','qlc','qic','qrc','qsnc','tke','wa_up','mf_up','alpha_up','ustar','z0','dTv_up','b_up','ent_u','det_u']
 
 convert2p = False
 #convert2z = True
diff --git a/examples/post.dephycf/config_DYNAMO.py b/examples/post.dephycf/config_DYNAMO.py
index 7c45622..a339f36 100644
--- a/examples/post.dephycf/config_DYNAMO.py
+++ b/examples/post.dephycf/config_DYNAMO.py
@@ -7,11 +7,14 @@
 #saveall = True
 saveall = False
 
-var2save = ['pfull','zfull','theta','ta','qv','hur','ua','va','wap','cl','clt','pr','hfls','hfss','ustar','ts','prw','hur','Q1','Q2']
+#var2save = ['pf','zf','theta','temp','qv','u','v','wap','ql','qi','qr','qsn','rneb','cc','prw','rain','lhf','lhfn','shf','tsurf','prw','hur','Q1','Q2','qlc','qic','qrc','qsnc','tke']
+var2save = ['pf','zf','theta','temp','qv','hur','u','v','wap','rneb','cc','rain','lhf','shf','ustar','tsurf','prw','hur','Q1','Q2']
 
+#var2save = var2save + ['tntrlw','tntrsw','tntpbl','tntlscp','tntc','tntd','tnupbl','tnuc','tnud','tnvpbl','tnvc','tnvd','tntadv','tntnudg','tnugeo','tnvgeo','tendu','tendv','tendq','tendh']
 
 var2save = var2save + ['rsut','rsdt','rlut','rsds','rsus','rlus','rlds','rsutcs','rlutcs','rsdscs','rsuscs','rldscs','cltl','cltm','clth','lwp','iwp']
 
+#var2save = ['pf','zf','theta','qv']
 
 convert2p = True
 convert2z = False
diff --git a/examples/post.dephycf/config_SANDU.py b/examples/post.dephycf/config_SANDU.py
index 0760516..dacca5b 100644
--- a/examples/post.dephycf/config_SANDU.py
+++ b/examples/post.dephycf/config_SANDU.py
@@ -7,7 +7,7 @@
 #saveall = True
 saveall = False
 
-var2save = ['pfull','phalf','zfull','zhalf','theta','ta','qv','ua','va','wap','ql','qi','qr','qsn','cl','clt','prw','pr','hfls','hfss','ts','hur','Q1','Q2','qlc','qic','qrc','qsnc','tke','wa_up','mf_up','alpha_up','ustar','z0','dTv_up','ta_up','qv_up','ent_up','det_up','b_up','ent_up_org','ent_up_turb','det_up_org','det_up_turb','lwp','iwp']
+var2save = ['pfull','phalf','zfull','zhalf','theta','ta','qv','ua','va','wap','ql','qi','qr','qsn','cl','clt','prw','rain','hfls','hfss','ts','hur','Q1','Q2','qlc','qic','qrc','qsnc','tke','wa_up','mf_up','alpha_up','ustar','z0','dTv_up','ta_up','qv_up','ent_up','det_up','b_up','ent_up_org','ent_up_tur','det_up_org','det_up_tur','lwp','iwp']
 
 
 convert2p = False
diff --git a/install.sh b/install.sh
index 2da6017..26f43e3 100755
--- a/install.sh
+++ b/install.sh
@@ -6,7 +6,7 @@ set -evx
 # User specific
 
 # EMS Version
-EMS_VERSION=2.3.mac
+EMS_VERSION=2.3
 
 # Directory where EMS is installed
 REP_EMS=$HOME/Tools/EMS/V${EMS_VERSION}
diff --git a/run_all.sh b/run_all.sh
deleted file mode 100755
index 8d0663d..0000000
--- a/run_all.sh
+++ /dev/null
@@ -1,28 +0,0 @@
-#!/bin/bash
-
-#config=config/config_arp631d_CMIP6.py
-config=config/config_arp631d_CMIP6.300s.py
-#config=config/config_arp631d_CMIP6.300s.L137.py
-#config=config/config_arp631d_CMIP6.L137.py
-#config=config/config_arp641ps8d_PS8.py
-
-OPT=''
-
-MUSC.py -config $config -case ARMCU  -subcase REF      $OPT
-MUSC.py -config $config -case AYOTTE -subcase 00SC     $OPT
-MUSC.py -config $config -case AYOTTE -subcase 00WC     $OPT
-MUSC.py -config $config -case AYOTTE -subcase 03SC     $OPT
-MUSC.py -config $config -case AYOTTE -subcase 05SC     $OPT
-MUSC.py -config $config -case AYOTTE -subcase 05WC     $OPT
-MUSC.py -config $config -case AYOTTE -subcase 24SC     $OPT
-MUSC.py -config $config -case IHOP   -subcase REF      $OPT
-MUSC.py -config $config -case SCMS   -subcase REF      $OPT
-MUSC.py -config $config -case RICO   -subcase SHORT    $OPT
-MUSC.py -config $config -case BOMEX  -subcase REF      $OPT
-MUSC.py -config $config -case MPACE  -subcase REF      $OPT
-MUSC.py -config $config -case FIRE   -subcase REF      $OPT
-MUSC.py -config $config -case SANDU  -subcase REF      $OPT
-MUSC.py -config $config -case SANDU  -subcase SLOW     $OPT
-MUSC.py -config $config -case SANDU  -subcase FAST     $OPT
-MUSC.py -config $config -case AMMA   -subcase REF      $OPT
-MUSC.py -config $config -case DYNAMO -subcase NSA3A_D1 $OPT
